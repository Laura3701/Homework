### 基础运算符，数学运算

#### 1. 术语

#####1.1 运算元

运算符应用的对象

5 * 2 --- 两个运算元

有时候，运算元也称为“参数”

##### 1.2 一元运算符

一个运算符对应的只有一个运算元

一元负号运算符（unary negation）`-`，它的作用是对数字进行正负转换：

~~~javascript
let x = 1;

x = -x;
alert( x ); // -1，一元负号运算符生效
~~~

#####1.3 二元运算符

一个运算符拥有两个运算元

减号还存在二元运算符形式：

~~~javascript
let x = 1, y = 3;
alert( y - x ); // 2，二元运算符减号做减运算
~~~

上面的例子中，

一个相同的符号 表征了两个不同的运算符：

- 一元：负号，对数字进行正负转换
- 二元：减法



#### 2. 数学运算

- 加法 `+`,
- 减法 `-`,
- 乘法 `*`,
- 除法 `/`,
- 取余 `%`,
- 求幂 `**`.

##### 2.1 取余 %

`a % b` 的结果是 `a` 整除 `b` 的 [余数](https://zh.wikipedia.org/zh-hans/%E4%BD%99%E6%95%B0)。

~~~javascript
alert( 5 % 2 ); // 5 除以 2 的余数
alert( 8 % 3 ); // 8 除以 3 的余数
~~~

#####2.2 求幂 **

将 `a` 提升至 `a` 的 `b` 次幂，也就是 a 的 b 次方

~~~javascript
alert( 2 ** 2 ); // 2² = 4
alert( 2 ** 3 ); // 2³ = 8
alert( 2 ** 4 ); // 2⁴ = 16
~~~

幂运算也适用于非整数

例如，平方根是指数为 ½ 的幂运算：

~~~javascript
alert( 4 ** (1/2) ); // 2（1/2 次方与平方根相同)
alert( 8 ** (1/3) ); // 2（1/3 次方与立方根相同)
~~~



#### 3. 用二元运算符 加号+ 拼接字符串

- 通常，加号 `+` 用于求和
- 但是如果加号 `+` 被应用于字符串，它将合并（连接）各个字符串：

~~~javascript
let s = "my" + "string";
alert(s); // mystring
~~~

- 注意：

  加号 加上任意字符串，另一个运算元也将被转化为字符串

~~~javascript
alert( '1' + 2 ); // "12"
alert( 2 + '1' ); // "21"
~~~

~~~javascript
alert(2 + 2 + '1' ); // "41"，不是 "221"
~~~

- 运算符按顺序工作，从左到右，如果先遇到数字，则完成运算，直到遇到字符串才会转换；

  如果先遇到字符串，则后续都转化为字符串

~~~javascript
alert('1' + 2 + 2); // "122"，不是 "14"
~~~

- 二元 `+` 是**唯一一个**以这种方式支持字符串的运算符。<u>其他算术运算符</u>只对数字起作用，并且总是将其运算元<u>转换为数字</u>。

  ~~~javascript
  alert( 6 - '2' ); // 4，将 '2' 转换为数字
  alert( '6' / '2' ); // 3，将两个运算元都转换为数字
  ~~~

#### 4. 用一元运算符 加号+ 转换为数字

加号 `+` 有两种形式，一种是上述 二元运算符，用于拼接字符串。

还有一种是一元运算符。

- 加号 `+` 应用于单个值，对数字没有任何作用；
- 但是如果运算元不是数字，加号 `+` 则会将其转化为数字。

~~~javascript
// 对数字无效
let x = 1;
alert( +x ); // 1

let y = -2;
alert( +y ); // -2

// 转化非数字
alert( +true ); // 1
alert( +"" );   // 0
~~~

- 效果和 `Number(...)` 相同，但是更加简短


- 应用场景：想对 apples 和 oranges 的数量求和

  如果使用**二元运算符**，则会将数量**合并为字符串**：

~~~java
let apples = "2";
let oranges = "3";

alert( apples + oranges ); // "23"，二元运算符加号合并字符串
~~~

​	所以需要使用**一元运算符**，将数量的值转化为数字

~~~javascript
let apples = "2";
let oranges = "3";

// 在二元运算符加号起作用之前，所有的值都被转化为了数字
alert( +apples + +oranges ); // 5

// 更长的写法
// alert( Number(apples) + Number(oranges) ); // 5
~~~

注意：**一元**运算符加号**首先**起作用，它们将字符串**转为数字**，然后二元运算符加号对它们进行求和。

一元运算符有更高的优先级

#### 5. 运算符的优先级

![73008121375](C:\Users\Laura\AppData\Local\Temp\1730081213757.png)

数字越大，优先级越高

“一元加号运算符”的优先级是 `15`，高于“二元加号运算符”的优先级 `12`

所以，`"+apples + +oranges"` 中的一元加号先生效，然后才是二元加法

#### 6. 赋值运算符

在 JavaScript 中，所有运算符都会返回一个值，比如 `+`  `-` `=` 

#### 7. 链式赋值

从右到左进行计算

~~~javascript
let a, b, c;

a = b = c = 2 + 2;

alert( a ); // 4
alert( b ); // 4
alert( c ); // 4
~~~

#### 8. 原地修改

~~~javascript
let n = 2;
n = n + 5;
n = n * 2;
~~~

缩写：

~~~javascript
let n = 2;
n += 5; // 现在 n = 7（等同于 n = n + 5）
n *= 2; // 现在 n = 14（等同于 n = n * 2）

alert( n ); // 14
~~~

#### 9. 自增/自减 - 只能用于变量

~~~javascript
let counter = 2;
counter++;      // 和 counter = counter + 1 效果一样，但是更简洁
alert( counter ); // 3
~~~

- 重要：自增/自减只能应用于变量！

  将其应用于数值（比如 `5++`）则会报错


- 前置和后置的区别

  前置：

~~~javascript
let counter = 1;
let a = ++counter; // (*)

alert(a); // 2
~~~

​	后置：返回的是 **旧值**（做加法之前的值）

~~~javascript
let counter = 1;
let a = counter++; // (*) 将 ++counter 改为 counter++

alert(a); // 1
~~~

总结：

- 如果自增/自减的值不会被使用，那么两者形式没有区别
- 如果我们想要对变量进行自增操作，**并且** 需要<u>立刻使用自增后的值</u>，那么我们需要使用<u>前置</u>形式
- 如果我们想要将一个数加一，但是我们想使用其<u>自增之前的值</u>，那么我们需要使用<u>后置</u>形式

~~~javascript
let counter = 1;
alert( 2 * counter++ ); // 2，因为 counter++ 返回的是“旧值”
~~~

####10. 位运算符

位运算符把运算元当做 32 位整数，并在它们的二进制表现形式上操作。

- 按位与 ( `&` )
- 按位或 ( `|` )
- 按位异或 ( `^` )
- 按位非 ( `~` )
- 左移 ( `<<` )
- 右移 ( `>>` )
- 无符号右移 ( `>>>` )

####11. 逗号运算符

优先等级低，低于 赋值号 =

处理多个表达式，使用 `,` 将它们分开。每个表达式都运行了，但是只有最后一个的结果会被返回

~~~javascript
let a = (1 + 2, 3 + 4);

alert( a ); // 7（3 + 4 的结果）
~~~

